<div class="container">
    <div class="row">
        Email<br />
        <input type="email" id="email" required class="form-control" />
    </div>
    <div class="row top10">
        <input type="button" data-id="@ViewBag.IdRequisicao" id="enviar" value="Enviar" class="btn btn-primary" />
    </div>
</div>

<script type="text/javascript">

    $('#enviar').click(function () {
        var id = $(this).attr('data-id');
        var email = $('#email').val();
        if (email.length > 0) {
            $.ajax({
                url: '/Erp/CotarCom/EnviarPorEmail',
                type: 'POST',
                data: { 'idRequisicao': id, 'email': email },
                success: function (result) {
                    if (result.success == true) {
                        ShowMessage(result.message);
                    } else {
                        ShowMessage(result);
                    }
                },
                error: function (e) {
                    ShowMessage(e);
                }
            });
        } else {
            ShowMessage('Informe um email.');
        }
    });

    function ShowMessage(msg) {
        $('#modal').load('/Erp/ModalInfo/Index/', { 'msg': msg }, function () {
            $('#modal').modal('show');
        });
    };

</script>